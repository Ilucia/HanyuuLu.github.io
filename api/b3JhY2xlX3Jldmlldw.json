{"title":"Oracle数据库复习提纲","date":"2020-06-20T00:00:00.000Z","link":"oracle_review","tags":["Oracle","database"],"updated":"2022-04-27T15:24:01.727Z","content":"<p>[toc]</p>\n<h1 id=\"introduction\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#introduction\"></a> Introduction<a href=\"oracle_review#introduction\"></a></h1>\n<p><img src=\"oracle_review/image-20200620153013639.png\" alt=\"image-20200620153013639\" class=\"article-img\"></p>\n<h2 id=\"instance\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#instance\"></a> Instance<a href=\"oracle_review#instance\"></a></h2>\n<p>p10</p>\n<p>An Oracle instance:</p>\n<ul>\n<li>Is a means to access an Oracle database</li>\n<li>Always opens one and only one database</li>\n<li>Consists of memory and process structures</li>\n</ul>\n<h2 id=\"database\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#database\"></a> Database<a href=\"oracle_review#database\"></a></h2>\n<p>p12</p>\n<p>An Oracle database:</p>\n<ul>\n<li>Is a collection of data that is treated as a unit</li>\n<li>Consists of three file types\n<ul>\n<li>Data files</li>\n<li>Control files</li>\n<li>Redo log files</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"physical-structure\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#physical-structure\"></a> Physical Structure<a href=\"oracle_review#physical-structure\"></a></h2>\n<p>p13</p>\n<p>The physical structure of an Oracle database is determined by the operating system files that provide the actual physical storage for database information.</p>\n<ul>\n<li>Control files</li>\n<li>Data files(includes data dictionary)</li>\n<li>Redo log files</li>\n</ul>\n<h2 id=\"memory-structure\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#memory-structure\"></a> Memory Structure<a href=\"oracle_review#memory-structure\"></a></h2>\n<p>P14</p>\n<p>Oracle’s memory structure consists of two memory areas known as:</p>\n<h3 id=\"sga\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#sga\"></a> SGA<a href=\"oracle_review#sga\"></a></h3>\n<p>System Global Area (SGA): Allocated at instance startup, and is a fundamental component of an Oracle Instance</p>\n<ul>\n<li>\n<p>The SGA consists of several memory structures:</p>\n</li>\n<li>\n<p>Shared pool</p>\n</li>\n<li>\n<p>Database buffer cache</p>\n</li>\n<li>\n<p>Redo log buffer</p>\n</li>\n<li>\n<p>Other structures (e.g. lock and latch management, statistical data)</p>\n</li>\n<li>\n<p>There are two optional memory structures that can be configured within the SGA:</p>\n<ul>\n<li>Large pool</li>\n<li>Java pool</li>\n</ul>\n</li>\n<li>\n<p>SGA is dynamic and sized using SGA_MAX_SIZE.</p>\n</li>\n<li>\n<p>SGA memory allocated and tracked in granules by SGA components</p>\n<ul>\n<li>Contiguous virtual memory allocation</li>\n<li>Size based on SGA_MAX_SIZE</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"shared-pool\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#shared-pool\"></a> Shared Pool<a href=\"oracle_review#shared-pool\"></a></h4>\n<p>The shared pool is used to store the most recently executed SQL statements and the most recently used data definitions.</p>\n<ul>\n<li>It consists of two key performance-related memory structures:\n<ul>\n<li>Library cache</li>\n<li>Data dictionary cache</li>\n</ul>\n</li>\n<li>Sized by the parameter SHARED_POOL_SIZE.</li>\n</ul>\n<h4 id=\"library-cache\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#library-cache\"></a> Library Cache<a href=\"oracle_review#library-cache\"></a></h4>\n<p>The library cache stores information about the most recently used SQL and PL/SQL statements. The library cache:</p>\n<ul>\n<li>Enables the sharing of commonly used statements</li>\n<li>Is managed by a least recently used (LRU) algorithm</li>\n<li>Consists of two structures:\n<ul>\n<li>Shared SQL area</li>\n<li>Shared PL/SQL area</li>\n</ul>\n</li>\n<li>Has its size determined by the shared pool sizing</li>\n</ul>\n<h4 id=\"data-dictionary-cache\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#data-dictionary-cache\"></a> Data Dictionary Cache<a href=\"oracle_review#data-dictionary-cache\"></a></h4>\n<ul>\n<li>The data dictionary cache is a collection of the most recently used definitions in the database.\n<ul>\n<li>It includes information about database files, tables, indexes, columns, users, privileges, and other database objects.</li>\n<li>During the parse phase, the server process looks at the data dictionary for information to resolve object names and validate access.</li>\n<li>Caching the data dictionary information into memory improves response time on queries.</li>\n<li>Size is determined by the shared pool sizing.</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"database-buffer-cache\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#database-buffer-cache\"></a> Database Buffer Cache<a href=\"oracle_review#database-buffer-cache\"></a></h4>\n<p>The database buffer cache stores copies of data blocks that have been retrieved from the data files. • It enables great performance gains when you obtain and update data.</p>\n<ul>\n<li>It is managed through a least recently used (LRU) algorithm.</li>\n<li>DB_BLOCK_SIZE determines the primary block size.</li>\n</ul>\n<h4 id=\"redo-log-buffer-cache\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#redo-log-buffer-cache\"></a> Redo Log Buffer Cache<a href=\"oracle_review#redo-log-buffer-cache\"></a></h4>\n<p>The redo log buffer cache records all changes made to the database data blocks.</p>\n<ul>\n<li>Its primary purpose is recovery.</li>\n<li>Changes recorded within are called redo entries.</li>\n<li>Redo entries contain information to reconstruct or redo changes.</li>\n<li>Size is defined by LOG_BUFFER.</li>\n</ul>\n<h4 id=\"large-pool\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#large-pool\"></a> Large Pool<a href=\"oracle_review#large-pool\"></a></h4>\n<p>The large pool is an optional area of memory in the SGA configured only in a shared server environment.</p>\n<ul>\n<li>\n<p>It relieves the burden placed on the shared pool.</p>\n</li>\n<li>\n<p>This configured memory area is used for session memory (UGA), I/O slaves, and backup and restore operations.</p>\n</li>\n<li>\n<p>Unlike the shared pool, the large pool does not use an LRU list.</p>\n</li>\n<li>\n<p>Sized by LARGE_POOL_SIZE.</p>\n<p><code>ALTER SYSTEM SET LARGE_POOL_SIZE = 64M;</code></p>\n</li>\n</ul>\n<h4 id=\"java-pool\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#java-pool\"></a> Java Pool<a href=\"oracle_review#java-pool\"></a></h4>\n<p>The Java pool services the parsing requirements for Java commands.</p>\n<ul>\n<li>Required if installing and using Java.</li>\n<li>It is stored much the same way as PL/SQL in database tables.</li>\n<li>It is sized by the JAVA_POOL_SIZE parameter.</li>\n</ul>\n<h3 id=\"pga\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#pga\"></a> PGA<a href=\"oracle_review#pga\"></a></h3>\n<p>p25</p>\n<p>Program Global Area (PGA): Allocated when the server process is started</p>\n<p>The PGA is memory reserved for each user process that connects to an Oracle database</p>\n<h4 id=\"process-structure\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#process-structure\"></a> Process Structure<a href=\"oracle_review#process-structure\"></a></h4>\n<p>An Oracle process is a program that depending on its type can request information, execute a series of steps, or perform a specific task.</p>\n<p>Oracle takes advantage of various types of processes:</p>\n<ul>\n<li>\n<p>User process: Started at the time a database user requests connection to the Oracle server</p>\n<ul>\n<li>A user process is a program that requests interaction with the Oracle server.\n<ul>\n<li>It must first establish a connection.</li>\n<li>It does not interact directly with the Oracle server.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Server process: Connects to the Oracle Instance and is started when a user establishes a session.</p>\n<p>A server process is a program that directly interacts with the Oracle server.</p>\n<ul>\n<li>It fulfills calls generated and returns results.</li>\n<li>Can be dedicated or shared server.</li>\n</ul>\n</li>\n<li>\n<p>Background process: Available when an Oracle instance is started</p>\n<p>The relationship between the physical and memory structures is maintained and enforced by Oracle’s background processes</p>\n<ul>\n<li>Mandatory background processes\n<ul>\n<li>DBWn PMON CKPT LGWR SMON RECO P29</li>\n</ul>\n</li>\n<li>Optional background processes\n<ul>\n<li>ARCn LMON Snnn QMNn LMDn CJQ0 Pnnn LCKn Dnnn P35</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"logical-structure\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#logical-structure\"></a> Logical Structure<a href=\"oracle_review#logical-structure\"></a></h2>\n<p>p36</p>\n<p>The logical structure of the Oracle architecture dictates how the physical space of a database is to be used.</p>\n<p>A hierarchy exists in this structure that consists of tablespaces, segments, extents, and blocks.</p>\n<p><img src=\"oracle_review/image-20200620220533075.png\" alt=\"image-20200620220533075\" class=\"article-img\"></p>\n<h2 id=\"processing-a-sql-statement\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#processing-a-sql-statement\"></a> Processing a SQL Statement<a href=\"oracle_review#processing-a-sql-statement\"></a></h2>\n<ul>\n<li>Connect to an instance using:\n<ul>\n<li>The user process</li>\n<li>The server process</li>\n</ul>\n</li>\n<li>The Oracle server components that are used depend on the type of SQL statement:\n<ul>\n<li>Queries return rows.</li>\n<li>DML statements log changes.</li>\n<li>Commit ensures transaction recovery.</li>\n</ul>\n</li>\n<li>Some Oracle server components do not participate in SQL statement processing.</li>\n</ul>\n<h1 id=\"oracle-server\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#oracle-server\"></a> Oracle Server<a href=\"oracle_review#oracle-server\"></a></h1>\n<h2 id=\"database-administration-tools\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#database-administration-tools\"></a> Database Administration Tools<a href=\"oracle_review#database-administration-tools\"></a></h2>\n<p>P42</p>\n<h1 id=\"managing-oracle-instances\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#managing-oracle-instances\"></a> Managing Oracle Instances<a href=\"oracle_review#managing-oracle-instances\"></a></h1>\n<p>p60</p>\n<h2 id=\"initialization-parameter-files\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#initialization-parameter-files\"></a> Initialization Parameter Files<a href=\"oracle_review#initialization-parameter-files\"></a></h2>\n<p><img src=\"oracle_review/image-20200620223657340.png\" alt=\"image-20200620223657340\" class=\"article-img\"></p>\n<ul>\n<li>Entries are specific to the instance being accessed</li>\n<li>There are two kinds of parameters:\n<ul>\n<li>Explicit: Having an entry in the file</li>\n<li>Implicit: No entry within the file, but assuming the Oracle default values</li>\n</ul>\n</li>\n<li>Multiple files can be used for a single database to optimize performance in different situations.</li>\n<li>Changes to entries in the file take effect based on the type of initialization parameter file used;\n<ul>\n<li>Static parameter file, PFILE</li>\n<li>Persistent parameter file, SPFILE</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"pfile-initsidora\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#pfile-initsidora\"></a> PFILE initSID.ora<a href=\"oracle_review#pfile-initsidora\"></a></h3>\n<ul>\n<li>\n<p>The PFILE is a text file that can be modified with an operating system editor.</p>\n</li>\n<li>\n<p>Modifications to the file are made manually.</p>\n</li>\n<li>\n<p>Changes to the file take effect on the next startup. • Its default location is $ORACLE_HOME/dbs.</p>\n</li>\n<li>\n<p>example</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Initialization Parameter File: initdb01.ora</span><br><span class=\"line\">db_name = db01</span><br><span class=\"line\">instance_name = db01</span><br><span class=\"line\">control_files = ( /u03/oradata/db01/control01db01.ctl,</span><br><span class=\"line\">/u03/oradata/db01/control02db01.ctl)</span><br><span class=\"line\">db_block_size = 4096</span><br><span class=\"line\">db_block_buffers = 500</span><br><span class=\"line\">shared_pool_size = 31457280 # 30M Shared Pool</span><br><span class=\"line\">db_files = 1024</span><br><span class=\"line\">max_dump_file_size = 10240</span><br><span class=\"line\">background_dump_dest = /u05/oracle9i/admin/db01/bdump</span><br><span class=\"line\">user_dump_dest = /u05/oracle9i/admin/db01/udump</span><br><span class=\"line\">core_dump_dest = /u05/oracle9i/admin/db01/cdump</span><br><span class=\"line\">undo_management = auto</span><br><span class=\"line\">undo_tablespace = undtbs</span><br></pre></td></tr></table></div></figure>\n</li>\n</ul>\n<h3 id=\"spfile-spfilesidora\"><a class=\"markdownIt-Anchor\" href=\"oracle_review#spfile-spfilesidora\"></a> SPFILE spfileSID.ora<a href=\"oracle_review#spfile-spfilesidora\"></a></h3>\n<p>p66</p>\n<ul>\n<li>\n<p>Binary file with the ability to make changes persistent across shutdown and startup</p>\n</li>\n<li>\n<p>Maintained by the Oracle server</p>\n</li>\n<li>\n<p>Records parameter value changes made with the ALTER SYSTEM command</p>\n</li>\n<li>\n<p>Can specify whether the change being made is temporary or persistent</p>\n</li>\n<li>\n<p>Values can be deleted or reset to allow an instance to revert to the default value</p>\n<p><code>ALTER SYSTEM SET undo_tablespace = 'UNDO2';</code></p>\n</li>\n<li>\n<p>SPFILE can be created from an initSID.ora file using the CREATE SPFILE command, which can be executed before or after instance startup:</p>\n<figure class=\"highlight\"><figcaption><span>SPFILE FROM PFILE;```</span></figcaption><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">*   example</span><br></pre></td></tr></table></div></figure>\n<p>*.background_dump_dest=‘<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mi>R</mi><mi>A</mi><mi>C</mi><mi>L</mi><msub><mi>E</mi><mi>H</mi></msub><mi>O</mi><mi>M</mi><mi>E</mi><mi mathvariant=\"normal\">/</mi><mi>a</mi><mi>d</mi><mi>m</mi><mi>i</mi><mi>n</mi><mi mathvariant=\"normal\">/</mi><mi>d</mi><mi>b</mi><mn>01</mn><mi mathvariant=\"normal\">/</mi><mi>b</mi><mi>d</mi><mi>u</mi><mi>m</mi><msup><mi>p</mi><mo mathvariant=\"normal\">′</mo></msup><mo>∗</mo><mi mathvariant=\"normal\">.</mi><mi>c</mi><mi>o</mi><mi>m</mi><mi>p</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>b</mi><mi>l</mi><mi>e</mi><msup><mo>=</mo><mo mathvariant=\"normal\">′</mo></msup><mn>9.0.</mn><msup><mn>0</mn><mo mathvariant=\"normal\">′</mo></msup><mo>∗</mo><mi mathvariant=\"normal\">.</mi><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><msub><mi>l</mi><mi>f</mi></msub><mi>i</mi><mi>l</mi><mi>e</mi><mi>s</mi><msup><mo>=</mo><mo mathvariant=\"normal\">′</mo></msup><mi mathvariant=\"normal\">/</mi><mi>u</mi><mn>03</mn><mi mathvariant=\"normal\">/</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi mathvariant=\"normal\">/</mi><mi>d</mi><mi>b</mi><mn>01</mn><mi mathvariant=\"normal\">/</mi><mi>c</mi><mi>t</mi><mi>r</mi><mi>l</mi><mn>01</mn><mi>d</mi><mi>b</mi><mn>01.</mn><mi>c</mi><mi>t</mi><msup><mi>l</mi><mo mathvariant=\"normal\">′</mo></msup><msup><mo separator=\"true\">,</mo><mo mathvariant=\"normal\">′</mo></msup><mi mathvariant=\"normal\">/</mi><mi>u</mi><mn>03</mn><mi mathvariant=\"normal\">/</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi mathvariant=\"normal\">/</mi><mi>d</mi><mi>b</mi><mn>01</mn><mi mathvariant=\"normal\">/</mi><mi>c</mi><mi>t</mi><mi>r</mi><mi>l</mi><mn>02</mn><mi>d</mi><mi>b</mi><mn>01.</mn><mi>c</mi><mi>t</mi><msup><mi>l</mi><mo mathvariant=\"normal\">′</mo></msup><mo>∗</mo><mi mathvariant=\"normal\">.</mi><mi>c</mi><mi>o</mi><mi>r</mi><msub><mi>e</mi><mi>d</mi></msub><mi>u</mi><mi>m</mi><msub><mi>p</mi><mi>d</mi></msub><mi>e</mi><mi>s</mi><mi>t</mi><msup><mo>=</mo><mo mathvariant=\"normal\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">ORACLE_HOME/admin/db01/bdump&#x27;\n*.compatible=&#x27;9.0.0&#x27;\n*.control_files=&#x27;/u03/oradata/db01/ctrl01db01.ctl&#x27;,&#x27;/u03/orad\nata/db01/ctrl02db01.ctl&#x27;\n*.core_dump_dest=&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\">L</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.08125em;\">H</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">m</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">m</span><span class=\"mord\"><span class=\"mord mathdefault\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.946332em;vertical-align:-0.19444em;\"></span><span class=\"mord\">.</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">m</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">e</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\">=</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\">9</span><span class=\"mord\">.</span><span class=\"mord\">0</span><span class=\"mord\">.</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.038em;vertical-align:-0.286108em;\"></span><span class=\"mord\">.</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">o</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\">=</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord mathdefault\">u</span><span class=\"mord\">0</span><span class=\"mord\">3</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">a</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mpunct\"><span class=\"mpunct\">,</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">/</span><span class=\"mord mathdefault\">u</span><span class=\"mord\">0</span><span class=\"mord\">3</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">a</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">/</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">0</span><span class=\"mord\">2</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.946332em;vertical-align:-0.19444em;\"></span><span class=\"mord\">.</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">m</span><span class=\"mord\"><span class=\"mord mathdefault\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\">=</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span>ORACLE_HOME/admin/db01/cdump’<br>\n*.db_block_buffers=500<br>\n*.db_block_size=4096<br>\n*.db_files=40<br>\n*.db_name=‘db01’<br>\n*.instance_name=‘db01’<br>\n*.remote_login_passwordfile=‘exclusive’<br>\n*.shared_pool_size=31457280 # 30M Shared Pool<br>\n*.undo_management=‘AUTO’<br>\ndb01.undo_tablespace=‘UNDOTBS01’<br>\ndb02.undo_tablespace=‘UNDOTBS02’</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">### Oracle Managed Files</span><br><span class=\"line\"></span><br><span class=\"line\">p69</span><br><span class=\"line\"></span><br><span class=\"line\">Oracle Managed Files (OMF) simplify file administration</span><br><span class=\"line\"></span><br><span class=\"line\">*   OMF are created and deleted by the Oracle server as directed by SQL commands</span><br><span class=\"line\">*   OMF are established by setting two parameters:</span><br><span class=\"line\">    *   DB_CREATE_FILE_DEST: Set to give the default location for data files </span><br><span class=\"line\">    *   DB_CREATE_ONLINE_LOG_DEST_N: Set to give the default locations for online redo logs and control files, up to a maximum of 5 locations</span><br><span class=\"line\"></span><br><span class=\"line\">## Starting Up a Database</span><br><span class=\"line\"></span><br><span class=\"line\">p73</span><br><span class=\"line\"></span><br><span class=\"line\">![image-20200621165731327](oracle_review/image-20200621165731327.png)</span><br><span class=\"line\"></span><br><span class=\"line\">### Start up the instance and open the database:</span><br></pre></td></tr></table></div></figure>\n</li>\n</ul>\n<p>STARTUP<br>\nSTARTUP PFILE=$ORACLE_HOME/dbs/initdb01.ora</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">### The ALTER DATABASE Command</span><br><span class=\"line\"></span><br><span class=\"line\">*   Change the state of the database from NOMOUNT to MOUNT:</span><br><span class=\"line\"></span><br><span class=\"line\">```ALTER DATABASE db01 MOUNT;</span><br></pre></td></tr></table></div></figure>\n<ul>\n<li>Open the database as a read–only database:</li>\n</ul>\n<figure class=\"highlight\"><figcaption><span>DATABASE db01 OPEN READ ONLY;```</span></figcaption><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">### Opening a Database in Restricted Mode</span><br><span class=\"line\"></span><br><span class=\"line\">*   Use the STARTUP command to restrict access to a database:</span><br><span class=\"line\"></span><br><span class=\"line\">``` STARTUP RESTRICT</span><br></pre></td></tr></table></div></figure>\n<ul>\n<li>Use the ALTER SYSTEM command to place an instance in restricted mode:</li>\n</ul>\n<figure class=\"highlight\"><figcaption><span>SYSTEM ENABLE RESTRICTED SESSION;```</span></figcaption><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Opening a Database in Read-Only Mode</span><br><span class=\"line\"></span><br><span class=\"line\">*   A databases can be   opened as a read-only database.</span><br><span class=\"line\">*   A read-only database can be used to:</span><br><span class=\"line\">    *   Execute queries</span><br><span class=\"line\">    *   Execute disk sorts using locally managed tablespaces</span><br><span class=\"line\">    *   Take data files offline and online, not tablespaces</span><br><span class=\"line\">    *   Perform recovery of offline data files and tablespaces</span><br><span class=\"line\"></span><br><span class=\"line\">### Shutting Down the Database</span><br><span class=\"line\"></span><br><span class=\"line\">p78</span><br><span class=\"line\"></span><br><span class=\"line\">![image-20200621194559674](oracle_review/image-20200621194559674.png)</span><br><span class=\"line\"></span><br><span class=\"line\">### Managing an Instance by Monitoring Diagnostic Files</span><br><span class=\"line\"></span><br><span class=\"line\">p81</span><br><span class=\"line\"></span><br><span class=\"line\">### Alert Log File</span><br><span class=\"line\"></span><br><span class=\"line\">The alertSID.log file records the commands and Results of major events while the database is operational.</span><br><span class=\"line\"></span><br><span class=\"line\">### Background Trace Files</span><br><span class=\"line\"></span><br><span class=\"line\">Background trace files support information errors detected by any background process.</span><br><span class=\"line\"></span><br><span class=\"line\">### User Trace File</span><br><span class=\"line\"></span><br><span class=\"line\">A user trace file is produced by the user process connected to the Oracle server through the server process.</span><br><span class=\"line\"></span><br><span class=\"line\"># Create Database</span><br><span class=\"line\"></span><br><span class=\"line\">p88</span><br><span class=\"line\"></span><br><span class=\"line\">## Creation Prerequisites</span><br><span class=\"line\"></span><br><span class=\"line\">p91</span><br><span class=\"line\"></span><br><span class=\"line\">To create a new database, you must have the following:</span><br><span class=\"line\"></span><br><span class=\"line\">*   A privileged account authenticated in one of the following ways:</span><br><span class=\"line\">    *   By the operating system</span><br><span class=\"line\">    *   Using a password file</span><br><span class=\"line\">*   Sufficient memory to start the instance</span><br><span class=\"line\">*   Sufficient disk space for the planned database</span><br><span class=\"line\"></span><br><span class=\"line\">## Planning Database File Locations</span><br><span class=\"line\"></span><br><span class=\"line\">## Creating a Database</span><br><span class=\"line\"></span><br><span class=\"line\">p93</span><br><span class=\"line\"></span><br><span class=\"line\">base can be created using:</span><br><span class=\"line\"></span><br><span class=\"line\">*   Oracle Database Configuration Assistant</span><br><span class=\"line\">*   The CREATE DATABASE command An Oracle datab</span><br><span class=\"line\"></span><br><span class=\"line\">## Operating System Environment</span><br><span class=\"line\"></span><br><span class=\"line\">### PATH</span><br></pre></td></tr></table></div></figure>\n<p>ORACLE_BASE<br>\nORACLE_HOME<br>\nORACLE_SID<br>\nORA_NLS33<br>\nPATH<br>\nsLD_LIBRARY_PATH</p>\n<pre class=\"highlight\"><code class=\"\">\n##  Database Configuration Assistant\n\np95\n\n## Database Information\n\np97\n\nSpecify: \n\n*   Global database name and SID\n*   The features you want to use for your database, such as:\n    *   Oracle Spatial\n    *   Oracle OLAP Services\n    *   Example Schemas\n*   Mode in which you want the database to operate\n    *   Dedicated server mode\n    *   Shared server mode\n\n## Other Parameters\n\n*   Archive Parameters\n    *   Use for database recovery\n    *   May also be used for a standby database\n*   Data Block Sizing\n    *   Sets the default database block size\n    *   Helps to determine the SORT_AREA_SIZE\n*   File Locations\n    *   Specify paths for trace files\n    *   Specify paths for parameter files\n    *   Database storage – Specify storage parameters\n\n## Creating a Database Manually\n\np101\n\n*   Decide on a unique instance and database name \n*   Choose a database character set \n*   Set the operating system variables\n*   Edit / Create the initialization parameter file\n*   Start the instance (nomount) \n*   Execute the CREATE DATABASE command\n*   Run scripts to generate the data dictionary and accomplish post creation steps\n\n### Preparing the Parameter File\n\n### Creating SPFILE\n\n### Starting the Instance\n\n### Creating the Database\n\n### Creating a Database Using OMF\n\n### After Database Creation\n\nThe database contains:\n\n*   Datafiles, control files, and redo log files\n*   User SYS with the password change_on_install\n*   User SYSTEM with the password manager\n*   Internal tables (but no data dictionary views)\n\n# Data Dictionary Contents and Usage\n\np110\n\n## Data Dictionary\n\nDuring database creation, the Oracle server creates additional object structures within the data files. \n\n*   Data dictionary tables\n*   Dynamic performance tables\n\nThe data dictionary is a set of read-only tables and views that record, verify, and provide information about its associated database.\n\n*   Describes the database and its objects\n*   Includes two types of objects:\n    *   Base tables\n        *   Store description of database\n        *   Created with CREATE DATABASE\n    *   Data Dictionary views\n        *   Summarize base table information\n        *   Created using catalog.sql script\n\n##  Contents\n\np114\n\n## Usage\n\n## Data Dictionary View Categories\n\n## Dynamic Performance Tables\n\n# Maintaining the Control File\n\np122\n\nThe control file is a binary file that defines the current state of the physical database.\n\n*   Loss of the control file requires recovery\n*   Is read at MOUNT stage\n*   Is required to operate\n*   Is linked to a single database\n*   Should be multiplexed\n*   Maintains integrity of database\n*   Sized initially by CREATE DATABASE\n\n## Contents\n\nP125\n\nA control file contains the following entries:\n\n*   Database name and identifier\n*   Time stamp of database creation\n*   Tablespace names\n*   Names and locations of data files and redo log files\n*   Current redo log file sequence number\n*   Checkpoint information\n*   Begin and end of undo segments\n*   Redo log archive information • Backup information\n\n# Maintaining Redo Log Files\n\np132\n\n## Managing Online Redo Logs with OMF\n\np144\n\n## Archived Redo Log Files\n\n# Managing Tablespaces and Data files\n\np150\n\n## Database Storage Hierarchy\n\np153\n\n![image-20200628012952676](oracle_review/image-20200628012952676.png)\n\n## SYSTEM and Non-SYSTEM Tablespaces\n\np154\n\n# Storage Structure and Relationships\n\np179\n\n## Extent Allocation and Deallocation\n\np185\n\n## Database Block\n\n## Database Block Contents\n\n## Data Dictionary Views\n\np196\n\n![image-20200628013426264](oracle_review/image-20200628013426264.png)\n\n## Obtaining Storage Information\n\n# Managing Undo Data\n\n\n\n\n\n\n\n---\n\n\n\n# Oracle数据库结构\n\n它由至少一个表空间和数据库模式对象组成。这里，模式是对象的集合，而模式对象是直接引用数据库数据的逻辑结构。模式对象包括这样一些结构:表、视图、序列、存储过程、同义词、索引、簇和数据库链等。逻辑存储结构包括表空间、段和范围，用于描述怎样使用数据库的物理空间。\n\n总之,逻辑结构由逻辑存储结构(表空间,段,范围,块)和逻辑数据结构(表、视图、序列、存储过程、同义词、索引、簇和数据库链等)组成,而其中的模式对象(逻辑数据结构)和关系形成了数据库的关系设计。\n\n段(Segment):\n\n是表空间中一个指定类型的逻辑存储结构，它由一个或多个范围组成，段将占用并增长存储空间。\n\n数据库的物理存储结构是由一些多种物理文件组成，主要有数据文件、控制文件、重做日志文件、归档日志文件、参数文件、口令文件、警告文件等。\n\n控制文件:存储实例、数据文件及日志文件等信息的二进制文件。alter system set control_files='路径'。V$CONTROLFILE。\n\n数据文件:存储数据，以.dbf做后缀。一句话:一个表空间对多个数据文件，一个数据文件只对一个表空间。dba_data_files/v$datafile。\n\n# Oracle 的 oracle sql*plus常用命令\n\n一、sys用户和system用户\nOracle安装会自动的生成sys用户和system用户\n(1)、sys用户是超级用户，具有最高权限，具有sysdba角色，有create database的权限，该用户默认的密码是change_on_install\n(2)、system用户是管理操作员，权限也很大。具有sysoper角色，没有create database的权限，默认的密码是manager\n(3)、一般讲，对数据库维护，使用system用户登录就可以拉\n注意：也就是说sys和system这两个用户最大的区别是在于有没有create database的权限。\n          \n二、sql\\*plus工具简介\nsql\\*plus是oracle自带的工具软件，主要用于执行sql语句，pl\\sql块。\n操作如下：\n(1)、在D:\\dev\\oracle\\product\\10.2.0\\db_1\\bin\\目录下的sqlplusw.exe。(D:\\dev\\oracle\\为oracle安装目录)\n(2)、在运行栏中输入“sqlplusw”即可\n\n三、sqlplus dos工具简介\n(1)、概述：sqlplus是在dos下操作oracle的工具，其功能和sql*plus相似。\n(2)、操作如下：在运行栏中输入“sqlplus”即可\n\n四、PLSQL Developer工具，需要自己安装，推荐大家使用\n\n五、sql\\*plus常用命令\n1)、连接命令\n1.conn[ect]\n用法：conn 用户名/密码@网络服务名 [as sysdba/sysoper]\n说明：当用特权用户身份连接时，必须带上as sysdba或是as sysoper\neg、\nSQL&gt; show user\nUSER 为 &quot;SCOTT&quot;\nSQL&gt; conn system/oracle@orcl\n已连接。\nSQL&gt; show user\nUSER 为 &quot;SYSTEM&quot;\nSQL&gt;\n以上命令实现类似切换用户的效果\n2.disc/disconn/disconnect\n说明: 该命令用来断开与当前数据库的连接\n3.pssw[ord]\n说明: 该命令用于修改用户的密码，如果要想修改其它用户的密码，需要用sys/system登录。\neg、\nSQL&gt; conn scott/oracle\n已连接。\nSQL&gt; passw\n更改 SCOTT 的口令\n旧口令:\n新口令:\n重新键入新口令:\n口令已更改\nSQL&gt;\n4.show user\n说明: 显示当前用户名\n5.exit\n说明: 该命令会断开与数据库的连接，同时会退出sql*plus\n5.clear screen\n清空屏幕\n\n2)、文件操作命令\n1.start和@\n说明: 运行sql脚本\n案例: sql&gt;@ d:\\a.sql或是sql&gt;start d:\\a.sql\n2.edit\n说明: 该命令可以编辑指定的sql脚本\n案例: sql&gt;edit d:\\a.sql,这样会把d:\\a.sql 这个文件打开\n3.spool\n说明: 该命令可以将sql*plus屏幕上的内容输出到指定文件中去。\n案例: sql&gt;spool d:\\b.sql并输入sql&gt;spool off\neg、\nsql&gt;spool d:\\b.sql;\nsql&gt;select * from emp;\nsql&gt;spool off;\n\n3)、交互式命令\n1.&amp;\n说明：可以替代变量，而该变量在执行时，需要用户输入。\nselect * from emp where job='&amp;job'；\n\n4)、显示和设置环境变量\n概述：可以用来控制输出的各种格式，set show 如果希望永久的保存相关的设\n置，可以去修改glogin.sql 脚本\n1.linesize\n说明：设置显示行的宽度，默认是80个字符\nshow linesize\nset linesize 90\n2.pagesize说明：设置每页显示的行数目，默认是14\n用法和linesize 一样\n至于其它环境参数的使用也是大同小异</code></pre>\n","prev":{"title":"Spring生态学习笔记","link":"springLearn"},"next":{"title":"传感器复习提纲","link":"review_sensor"},"plink":"ilucia.github.io/oracle_review/","toc":[{"title":"<a class=\"markdownIt-Anchor\"></a> Introduction","id":"introduction","index":"1","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> Instance","id":"instance","index":"1.1"},{"title":"<a class=\"markdownIt-Anchor\"></a> Database","id":"database","index":"1.2"},{"title":"<a class=\"markdownIt-Anchor\"></a> Physical Structure","id":"physical-structure","index":"1.3"},{"title":"<a class=\"markdownIt-Anchor\"></a> Memory Structure","id":"memory-structure","index":"1.4","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> SGA","id":"sga","index":"1.4.1"},{"title":"<a class=\"markdownIt-Anchor\"></a> PGA","id":"pga","index":"1.4.2"}]},{"title":"<a class=\"markdownIt-Anchor\"></a> Logical Structure","id":"logical-structure","index":"1.5"},{"title":"<a class=\"markdownIt-Anchor\"></a> Processing a SQL Statement","id":"processing-a-sql-statement","index":"1.6"}]},{"title":"<a class=\"markdownIt-Anchor\"></a> Oracle Server","id":"oracle-server","index":"2","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> Database Administration Tools","id":"database-administration-tools","index":"2.1"}]},{"title":"<a class=\"markdownIt-Anchor\"></a> Managing Oracle Instances","id":"managing-oracle-instances","index":"3","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> Initialization Parameter Files","id":"initialization-parameter-files","index":"3.1","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> PFILE initSID.ora","id":"pfile-initsidora","index":"3.1.1"},{"title":"<a class=\"markdownIt-Anchor\"></a> SPFILE spfileSID.ora","id":"spfile-spfilesidora","index":"3.1.2"}]}]}],"copyright":{"author":"Ilucia Niu","license":"<a rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\">知识共享署名 4.0 国际许可协议</a>","published":"2020年6月20日","updated":"2022年4月27日"}}