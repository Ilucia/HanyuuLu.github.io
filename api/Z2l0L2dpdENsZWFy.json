{"title":"将文件从git commit记录中抹除","date":"2019-02-15T00:00:00.000Z","link":"git/gitClear","tags":["git, commit ,cleear"],"updated":"2022-04-27T15:24:01.719Z","content":"<h1 id=\"清理过大的git文件夹\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#清理过大的git文件夹\"></a> 清理过大的git文件夹<a href=\"git/gitClear#清理过大的git文件夹\"></a></h1>\n<h2 id=\"列出git历史中最大的deepth个文件\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#列出git历史中最大的deepth个文件\"></a> 列出git历史中最大的deepth个文件<a href=\"git/gitClear#列出git历史中最大的deepth个文件\"></a></h2>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git verify-pack -v .git/objects/pack/[fingerPoint].idx | sort -k [deepth] -n | tail -[deepth]</span><br></pre></td></tr></table></div></figure>\n<ul>\n<li>\n<p>example:</p>\n<ul>\n<li>input</li>\n</ul>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git verify-pack -v .\\.git\\objects\\pack\\pack-f13f96d5194e9f568b7723e0427cbc343930bfbb.idx</span><br></pre></td></tr></table></div></figure>\n<ul>\n<li>output</li>\n</ul>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1a1c62895eb17949c2dd60043e536d6a6afe3626 commit 656 515 12</span><br><span class=\"line\">2db819c543801fcc5ca910430f61d2532e880be0 tree   37 48 527</span><br><span class=\"line\">ac3fb948a48f9164b91ca35264a077d001981ea7 blob   61 63 575</span><br><span class=\"line\">non delta: 3 objects</span><br><span class=\"line\">.\\.git\\objects\\pack\\pack-f13f96d5194e9f568b7723e0427cbc343930bfbb.pack: ok</span><br></pre></td></tr></table></div></figure>\n</li>\n</ul>\n<h2 id=\"查询对应的文件名\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#查询对应的文件名\"></a> 查询对应的文件名<a href=\"git/gitClear#查询对应的文件名\"></a></h2>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rev-list --objects --all | grep [fileFingerPoint]</span><br></pre></td></tr></table></div></figure>\n<ul>\n<li>\n<p>example:</p>\n<ul>\n<li>input</li>\n</ul>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rev-list --objects --all | grep ac3fb948a48f9164b91ca35264a077d001981ea7</span><br></pre></td></tr></table></div></figure>\n<p>output</p>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ac3fb948a48f9164b91ca35264a077d001981ea7 README.md</span><br></pre></td></tr></table></div></figure>\n<h2 id=\"将文件从所有commit中如果有删除\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#将文件从所有commit中如果有删除\"></a> 将文件从所有commit中（如果有，删除）</h2>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git filter-branch -tree-filter <span class=\"string\">'rm -f [fileName]'</span> HEAD</span><br></pre></td></tr></table></div></figure>\n<h2 id=\"运行整理\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#运行整理\"></a> 运行整理</h2>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git gc</span><br></pre></td></tr></table></div></figure>\n<h2 id=\"精简不存在的branch\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#精简不存在的branch\"></a> 精简不存在的branch</h2>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote prune [branchName]</span><br></pre></td></tr></table></div></figure>\n<h2 id=\"查看所有分支的所有操作历史\"><a class=\"markdownIt-Anchor\" href=\"git/gitClear#查看所有分支的所有操作历史\"></a> 查看所有分支的所有操作历史</h2>\n  <figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rflog --all</span><br></pre></td></tr></table></div></figure></li>\n</ul>\n","prev":{"title":"再生核希尔伯特空间(RKHS)","link":"deeplearning/RKHS"},"next":{"title":"lagrange multiplier拉格朗日乘子法","link":"deeplearning/LagrangeMultiplier"},"plink":"ilucia.github.io/git/gitClear/","toc":[{"title":"<a class=\"markdownIt-Anchor\"></a> 清理过大的git文件夹","id":"清理过大的git文件夹","index":"1","children":[{"title":"<a class=\"markdownIt-Anchor\"></a> 列出git历史中最大的deepth个文件","id":"列出git历史中最大的deepth个文件","index":"1.1"},{"title":"<a class=\"markdownIt-Anchor\"></a> 查询对应的文件名","id":"查询对应的文件名","index":"1.2"},{"title":"","id":"将文件从所有commit中如果有删除","index":"1.3"},{"title":"","id":"运行整理","index":"1.4"},{"title":"","id":"精简不存在的branch","index":"1.5"},{"title":"","id":"查看所有分支的所有操作历史","index":"1.6"}]}],"copyright":{"author":"Ilucia Niu","license":"<a rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\">知识共享署名 4.0 国际许可协议</a>","published":"2019年2月15日","updated":"2022年4月27日"}}